import{r as e,t as a,aa as t,o as r,c as o,w as s,u as l,d,e as n,a as i,b as _,l as c,m as u,F as p,p as f,s as g,h as m,i as y,g as b,j as x,_ as h,v as w}from"./index-855f89f9.js";import{_ as j}from"./no-data.bcb4c8a9.js";import{a as I,o as k,r as v}from"./uni-app.es.8f4863ce.js";import{_ as N}from"./menu-bar.c95dddfa.js";import{_ as C}from"./back_bai.3f7a0c49.js";import{_ as D}from"./_plugin-vue_export-helper.1b428a4d.js";const O=D({__name:"OrderAmount",setup(D){const O=e({triggered:!1,queryInfo:{order_custom_id:"",pageNum:1,pageSize:1},list:[],current_page:1,last_page:1}),{triggered:S,queryInfo:q,list:J}=a(O),F=t((()=>g.state.userInfo)),B=()=>{O.triggered=!0,O.list=[],O.current_page=1,O.last_page=1,O.queryInfo.pageNum=1,A()},E=()=>{if(O.current_page>=O.last_page)return d.showToast("没有更多数据了"),!1;A()},A=()=>{n.getMyOrderList(O.queryInfo).then((e=>{console.log("res",e),e.data.data.forEach((e=>{e.order_info_list=JSON.parse(e.order_info||"[]"),e.order_material_info_obj=JSON.parse(e.order_material_info||"{}"),e.order_commodity_info_obj=JSON.parse(e.order_commodity_info||"{}"),e.order_spec_info_obj=JSON.parse(e.order_spec_info||"{}"),e.order_product_info_obj=JSON.parse(e.order_product_info||"{}")})),O.queryInfo.pageNum=O.queryInfo.pageNum+1,O.list=[...O.list,...e.data.data],O.current_page=e.data.current_page,O.last_page=e.data.last_page,console.log("data.list",O.list),O.triggered=!1}),(()=>{O.triggered=!1}))};return I((()=>{})),k((()=>{O.queryInfo.order_custom_id=F.value.custom_id,A();const e=JSON.parse(localStorage.getItem("uploadedImages"))||[];console.log("Cached Images:",e)})),(e,a)=>{const t=m,n=y,g=b,I=v(x("no-data"),j),k=v(x("menu-bar"),N),D=v(x("page"),h);return r(),o(D,{bgColor:"#F7F8F9",topColor:"#00AEEF",topHeight:88,refresherEnabled:!0,triggered:l(S),refresherrefresh:B,scrolltolower:E},{navBar:s((()=>[i(g,{class:"text-center flex align-center justify-center",style:{height:"88rpx"}},{default:s((()=>[i(t,{class:"font-36 text-white"},{default:s((()=>[_("订单详情")])),_:1}),i(g,{onClick:a[0]||(a[0]=e=>l(d).goBack()),class:"position-absolute rounded-circle flex align-center justify-center",style:{width:"40rpx",height:"32rpx",left:"32rpx"}},{default:s((()=>[i(n,{style:{width:"40rpx",height:"32rpx"},src:C,mode:""})])),_:1})])),_:1})])),content:s((()=>[i(g,{class:"p-3"},{default:s((()=>[(r(!0),c(p,null,u(l(J),((e,a)=>(r(),o(g,{key:a,class:"rounded-10 overflow-hidden Cmb-2"},{default:s((()=>[0===a?(r(),o(g,{key:0,class:"py-2 px-2"},{default:s((()=>[i(g,{class:"rounded-10 px-2 py-2",style:{"background-color":"#eefafe"}},{default:s((()=>[(r(!0),c(p,null,u(e.order_info_list,((e,a)=>(r(),o(g,{key:a,class:"font-28 py-1"},{default:s((()=>[i(t,{style:{color:"#777"}},{default:s((()=>[_(w(e.configs_name)+":",1)])),_:2},1024),i(t,{class:"ml-1"},{default:s((()=>[_(w(e.configs_use_input),1)])),_:2},1024)])),_:2},1024)))),128)),i(g,{class:"font-28 py-1"},{default:s((()=>[i(t,{style:{color:"#777"}},{default:s((()=>[_("订单号：")])),_:1}),i(t,{class:"ml-1"},{default:s((()=>[_(w(e.order_id),1)])),_:2},1024)])),_:2},1024),i(g,{class:"font-28 py-1"},{default:s((()=>[i(t,{style:{color:"#777"}},{default:s((()=>[_("模版名称：")])),_:1}),i(t,{class:"ml-1"},{default:s((()=>[_(w(e.order_product_name),1)])),_:2},1024)])),_:2},1024),i(g,{class:"font-28 py-1"},{default:s((()=>[i(t,{style:{color:"#777"}},{default:s((()=>[_("规格：")])),_:1}),i(t,{class:"ml-1"},{default:s((()=>[_(w(e.order_spec_name),1)])),_:2},1024)])),_:2},1024),i(g,{class:"font-28 py-1"},{default:s((()=>[i(t,{style:{color:"#777"}},{default:s((()=>[_("商品：")])),_:1}),i(t,{class:"ml-1"},{default:s((()=>[_(w(e.order_commodity_name),1)])),_:2},1024)])),_:2},1024),i(g,{class:"font-28 py-1"},{default:s((()=>[i(t,{style:{color:"#777"}},{default:s((()=>[_("材质：")])),_:1}),i(t,{class:"ml-1"},{default:s((()=>[_(w(e.order_material_name),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024)):f("",!0),i(g,{style:{display:"flex","justify-content":"center"}},{default:s((()=>[i(t,{style:{"font-weight":"bold","border-radius":"5px","background-color":"blue",color:"white",padding:"10px 20px"}},{default:s((()=>[_("记得截取订单码复制发送给客服")])),_:1})])),_:1}),i(g,{style:{"padding-top":"100rpx",display:"flex","justify-content":"center"},onClick:a=>{return t=e.order_id,r=t,void(window.clipboardData&&window.clipboardData.setData?clipboardData.setData("Text",r):window.clipboardData&&clipboardData.setItem?clipboardData.setItem("Text",r):alert("您的浏览器不支持自动复制订单码，请手动复制。订单号为："+r));var t,r}},{default:s((()=>[i(t,{style:{"font-size":"20px","font-weight":"bold","border-radius":"5px","background-color":"blue",color:"white",padding:"10px 20px"}},{default:s((()=>[_("复制订单码")])),_:1})])),_:2},1032,["onClick"])])),_:2},1024)))),128))])),_:1}),0==l(J).length?(r(),o(I,{key:0})):f("",!0)])),bottomBar:s((()=>[i(k,{activeMenu:"home"})])),_:1},8,["triggered"])}}},[["__scopeId","data-v-95e65777"]]);export{O as default};
