import{r as e,t,ao as a,aa as l,o,c as i,w as r,u as s,e as d,a as c,b as n,d as p,l as _,m as f,F as u,v as g,p as m,s as y,y as x,h,i as v,g as b,j as w,I,$ as k,_ as S}from"./index-855f89f9.js";import{_ as j}from"./tui-modal.dd985726.js";import{o as C,r as O}from"./uni-app.es.8f4863ce.js";import{_ as N}from"./tui-bottom-popup.df21a1c1.js";import{_ as M}from"./back_bai.3f7a0c49.js";import{_ as P}from"./gg.7b849707.js";import{_ as J}from"./close.041a1bd8.js";import{_ as L}from"./ss.f111cf75.js";import{_ as q}from"./_plugin-vue_export-helper.1b428a4d.js";const T=""+new URL("微信图片_20231107145537-b151a029.png",import.meta.url).href,F=""+new URL("微信图片_20231107145536-307a16f1.png",import.meta.url).href,Q=""+new URL("微信图片_20231107145959-aa78689d.png",import.meta.url).href,z=q({__name:"compile",setup(q){const z=e({materialList:[],imagelength:null,imageurl:"",showimage:0,copyimage:0,edit:0,oddImages:[],evenImages:[],showupimage:0,triggered:!1,queryInfo:{product_id:""},specQueryInfo:{spec_commodity_id:0,pageNum:1,pageSize:10},list:[],product_print_list:[],coverPage:{pages_id:"",pages_cover:""},endPage:{pages_id:"",pages_cover:""},showModal:0,materialQueryInfo:{material_name:"",ids:[]},spec_list:[],configsInfo2:[],configsInfo:[]}),{configsInfo2:U,configsInfo:B,spec_list:E,specQueryInfo:R,materialList:A,lsit:H,materialQueryInfo:V,imagelength:D,imageurl:X,showimage:$,copyimage:G,oddImages:K,evenImages:W,product_print_list:Y,showupimage:Z,triggered:ee,queryInfo:te,info:ae,coverPage:le,endPage:oe,showModal:ie}=t(z),re=a([]),se=l((()=>{var e,t,a,l;const o=(null==(t=null==(e=me.value)?void 0:e.order_spec_info_obj)?void 0:t.spec_number)||0,i=(null==(l=null==(a=me.value)?void 0:a.order_spec_info_obj)?void 0:l.spec_multiple)||1;return z.product_print_list.length>=100||(0==o||z.product_print_list.length>=o&&z.product_print_list.length%i==0)})),de=()=>{var e;let t={};(null==(e=z.activeMaterial)?void 0:e.material_id)>0?(console.log("选择了材质"),t={order_material_id:z.activeMaterial.material_id,order_material_name:z.activeMaterial.material_name,order_material_info:JSON.stringify(z.activeMaterial),order_material_info_obj:z.activeMaterial}):z.materialList.length>0&&(z.activeMaterial=z.materialList[0],t={order_material_id:z.activeMaterial.material_id,order_material_name:z.activeMaterial.material_name,order_material_info:JSON.stringify(z.activeMaterial),order_material_info_obj:z.activeMaterial});const a=z.list.find((e=>e.commodity_id==z.specQueryInfo.spec_commodity_id)),l={commodity_category_id:a.commodity_category_id,category_name:a.category_name,commodity_id:a.commodity_id,commodity_name:a.commodity_name,commodity_mode:a.commodity_mode,commodity_type:a.commodity_mode,commodity_book:a.commodity_book,commodity_print:a.commodity_print},o={order_commodity_id:l.commodity_id,order_commodity_name:l.commodity_name,order_commodity_info:JSON.stringify(l),order_commodity_info_obj:l},i={spec_id:z.activeSpec.spec_id,spec_name:z.activeSpec.spec_name,spec_cover:z.activeSpec.spec_cover,spec_dpi:z.activeSpec.spec_dpi,spec_bleed:z.activeSpec.spec_bleed,spec_multiple:z.activeSpec.spec_multiple,spec_number:z.activeSpec.spec_number,spec_width:z.activeSpec.spec_width,spec_height:z.activeSpec.spec_height,spec_select_material:z.activeSpec.spec_select_material,spec_select_template:z.activeSpec.spec_select_template,spec_select_face:z.activeSpec.spec_select_face,spec_decoration_ids:z.activeSpec.spec_decoration_ids,spec_text_ids:z.activeSpec.spec_text_ids,spec_bg_ids:z.activeSpec.spec_text_ids,spec_template_ids:z.activeSpec.spec_template_ids,spec_opposite_ids:z.activeSpec.spec_opposite_ids,spec_page_prefix:z.activeSpec.spec_page_prefix,spec_page_suffix:z.activeSpec.spec_page_suffix,spec_prompt:z.activeSpec.spec_prompt,spec_edit:z.activeSpec.spec_edit,spec_template_edit_mode:z.activeSpec.spec_template_edit_mode,spec_opposite_edit_mode:z.activeSpec.spec_opposite_edit_mode},r={order_spec_id:z.activeSpec.spec_id,order_spec_name:z.activeSpec.spec_name,order_spec_info:JSON.stringify(i),order_spec_info_obj:i},s={...t,...o,...r};z.popupShowpage=0,y.commit("SET_ORDER_FORM",s)},ce=()=>{if(me.value.order_id>0){if(me.value.order_status>0)return void p.showToast("该订单已经定稿，不能修改");pe()}else _e()},ne=()=>{p.reToPage("professional-edit")},pe=()=>{var e;const t=JSON.parse(JSON.stringify(me.value)),a=[z.coverPage,...z.product_print_list,z.endPage,z.oddImages,z.evenImages];t.order_product_info_obj.product_print=JSON.stringify(a),t.order_product_info=JSON.stringify(t.order_product_info_obj),t.order_cover=(null==(e=t.order_spec_info_obj)?void 0:e.spec_cover)||"",t.order_custom_id=ge.value.custom_id,t.order_frequency=Number(t.order_frequency)+1,d.updateOrder(t).then((e=>{z.showModal=0,p.showToast("提交成功"),setTimeout((()=>{p.reToPage("OrderAmount")}),1800)})),console.log("newOrderInfo",t)},_e=()=>{var e;const t=JSON.parse(JSON.stringify(me.value));t.order_product_info_obj.product_print=JSON.stringify(z.product_print_list,z.oddImages,z.evenImages),console.log("product_print_list: ",product_print),t.order_product_info=JSON.stringify(t.order_product_info_obj),console.log("newOrderInfo.order_product_info: ",t.order_product_info),t.order_cover=(null==(e=t.order_spec_info_obj)?void 0:e.spec_cover)||"",t.order_custom_id=ge.value.custom_id,d.addOrder(t).then((e=>{z.showModal=0,p.showToast("提交成功"),setTimeout((()=>{p.reToPage("OrderAmount")}),1800)})),console.log("newOrderInfo",t)},fe=()=>{console.log("111111",z.evenImages),z.evenImages=z.evenImages.map((e=>e||z.imageurl))},ue=async e=>{z.edit=1,z.showimage=1;try{const t=[],a=await x({count:9,sizeType:["original","compressed"],sourceType:["album"]});console.log("res",a);for(let e=0;e<a.tempFilePaths.length;e++){const l=d.uploadFile({filePath:a.tempFilePaths[e],name:"file"});t.push(l)}const l=await Promise.all(t);for(let e=0;e<l.length;e++)re.value.push(l[e].data.url);const o=JSON.parse(localStorage.getItem("uploadedImages"))||[];o.push(...re.value),localStorage.setItem("uploadedImages",JSON.stringify(o)),(e=>{1==e&&(z.oddImages=re.value.filter(((e,t)=>t%2==0)),z.evenImages=re.value.filter(((e,t)=>t%2!=0)),console.log("奇数索引的图片链接数组:",K),console.log("偶数索引的图片链接数组:",W),re.value=[]),2==e&&(z.oddImages=re.value,console.log("奇数索引的图片链接数组:",K),re.value=[]),3==e&&(z.evenImages=re.value,console.log("偶数索引的图片链接数组:",W),re.value=[]),z.evenImages.length>z.oddImages.length||z.evenImages.length==z.oddImages.length?z.imagelength=z.evenImages.length:z.imagelength=z.oddImages.length})(e)}catch(t){console.error("上传图片失败",t)}},ge=l((()=>y.state.userInfo)),me=l((()=>y.state.orderFrom)),ye=l((()=>{var e,t;return 1==(null==(t=null==(e=me.value)?void 0:e.order_commodity_info_obj)?void 0:t.commodity_book)?1:0})),xe=()=>{p.goToPage("template-selection")};l((()=>{var e,t;return 1==(null==(t=null==(e=me.value)?void 0:e.order_commodity_info_obj)?void 0:t.commodity_print)?1:0}));const he=()=>{z.triggered=!0,be()},ve=()=>{},be=()=>{d.getProductById(z.queryInfo).then((e=>{e.data&&(e.data.product_print?(e.data.product_print_list=JSON.parse(e.data.product_print),ye.value&&(z.coverPage=e.data.product_print_list[0],z.endPage=e.data.product_print_list[e.data.product_print_list.length-1],e.data.product_print_list.shift(),e.data.product_print_list.pop())):e.data.product_print_list=[],z.info=e.data),z.triggered=!1}),(()=>{z.triggered=!1}))};return C((e=>{d.getConfigsById({configs_id:102}).then((e=>{z.configsInfo=e.data})),d.getConfigsById({configs_id:101}).then((e=>{z.configsInfo2=e.data})),l((()=>y.state.userInfo));const t=l((()=>y.state.orderFrom)),a=()=>{d.getCommodityList(z.queryInfo).then((e=>{z.queryInfo.pageNum=z.queryInfo.pageNum+1,z.list=[...z.list,...e.data.data],z.current_page=e.data.current_page,z.last_page=e.data.last_page,z.list.length>0&&0==z.specQueryInfo.spec_commodity_id?(z.specQueryInfo.spec_commodity_id=z.list[0].commodity_id,d.getSpecList(z.specQueryInfo).then((e=>{z.specQueryInfo.pageNum=z.specQueryInfo.pageNum+1,z.spec_list=[...z.spec_list,...e.data.data],z.spec_current_page=e.data.current_page,z.spec_last_page=e.data.last_page,z.triggered=!1}),(()=>{z.triggered=!1}))):z.triggered=!1}),(()=>{z.triggered=!1}))},o=localStorage.getItem("materialList");if(o){const e=JSON.parse(o);z.materialList=e,console.log(e)}else console.log("没有找到存储的数据");z.queryInfo.product_id=e.product_id,be(),d.getCategoryAllList().then((e=>{z.categoryAllList=e.data,e.data.length>0&&(z.queryInfo.commodity_category_id=e.data[0].value,a())}),(()=>{})),console.log("orderForm",t.value)})),(e,t)=>{const a=h,l=v,d=b,y=O(w("tui-modal"),j),x=O(w("tui-bottom-popup"),N),C=I,q=k,U=O(w("page"),S);return o(),i(U,{bgColor:"#fff",topColor:"#00AEEF",topHeight:88,bottomHeight:120,refresherEnabled:!0,triggered:s(ee),refresherrefresh:he,scrolltolower:ve},{navBar:r((()=>[c(d,{class:"text-center flex align-center justify-center",style:{height:"88rpx"}},{default:r((()=>[c(a,{class:"font-36 text-white"},{default:r((()=>[n("编辑")])),_:1}),c(d,{onClick:t[0]||(t[0]=e=>s(p).goBack()),class:"position-absolute rounded-circle flex align-center justify-center",style:{width:"40rpx",height:"32rpx",left:"32rpx"}},{default:r((()=>[c(l,{style:{width:"40rpx",height:"32rpx"},src:M,mode:""})])),_:1})])),_:1})])),content:r((()=>[(o(!0),_(u,null,f(z.imagelength+1,((e,t)=>(o(),i(d,{class:"p-2"},{default:r((()=>[c(d,{style:{padding:"10px",border:"2px solid black",width:"100%","background-color":"white","border-radius":"15px",display:"grid","grid-template-rows":"7fr 1fr"}},{default:r((()=>[c(d,{style:{display:"grid","grid-template-columns":"1fr 1fr",gap:"20px"}},{default:r((()=>[c(d,{style:{display:"grid","grid-template-rows":"3fr 1fr"}},{default:r((()=>[c(d,{style:{border:"1px solid black"}},{default:r((()=>[c(d,{style:{border:"2px dashed red",margin:"5px",height:"92%"}},{default:r((()=>[c(d,{style:{border:"2px dashed aqua",margin:"5px",height:"92%",display:"flex","justify-content":"center","align-items":"center"}},{default:r((()=>[0==z.edit?(o(),i(a,{key:0,onClick:ne},{default:r((()=>[n("点击编辑")])),_:1})):m("",!0),1==z.edit?(o(),i(d,{key:1,onClick:ne},{default:r((()=>[c(l,{src:s(p).showImageUrl(z.oddImages[t]||""),style:{width:"120px",height:"80px"}},null,8,["src"])])),_:2},1024)):m("",!0)])),_:2},1024)])),_:2},1024)])),_:2},1024),c(a,{style:{"text-align":"center"}},{default:r((()=>[n("正面")])),_:1})])),_:2},1024),c(d,{style:{display:"grid","grid-template-rows":"3fr 1fr"}},{default:r((()=>[c(d,{style:{border:"1px solid black"}},{default:r((()=>[c(d,{style:{border:"2px dashed red",margin:"5px",height:"92%"}},{default:r((()=>[c(d,{style:{border:"2px dashed aqua",margin:"5px",height:"92%",display:"flex","justify-content":"center","align-items":"center"}},{default:r((()=>[1==z.copyimage?(o(),i(a,{key:0,onClick:e=>(e=>{z.evenImages[e]=z.imageurl})(t)},{default:r((()=>[n("复制到这里")])),_:2},1032,["onClick"])):m("",!0),0==z.edit?(o(),i(a,{key:1,onClick:ne},{default:r((()=>[n("点击编辑")])),_:1})):m("",!0),1==z.showimage&&0==s(G)?(o(),i(d,{key:2},{default:r((()=>[c(l,{src:s(p).showImageUrl(z.evenImages[t]||""),style:{width:"120px",height:"80px"}},null,8,["src"])])),_:2},1024)):m("",!0)])),_:2},1024)])),_:2},1024)])),_:2},1024),c(a,{style:{"text-align":"center"}},{default:r((()=>[n("背面")])),_:1})])),_:2},1024)])),_:2},1024),c(d,{style:{display:"flex","justify-content":"end"}},{default:r((()=>[c(d,{style:{display:"flex","margin-right":"44rpx"}},{default:r((()=>[c(d,null,{default:r((()=>[n("-")])),_:1}),c(d,{style:{border:"1px solid black",padding:"0px 30rpx",margin:"0px 30rpx"}},{default:r((()=>[c(a,null,{default:r((()=>[n("2")])),_:1})])),_:1}),c(d,null,{default:r((()=>[n("+")])),_:1})])),_:1}),c(a,{style:{border:"2rpx solid blue",padding:"0px 30rpx","border-radius":"20rpx",color:"blue"},onClick:e=>{return a=z.evenImages[t],z.imageurl=a,z.copyimage=1,void(z.edit=1);var a}},{default:r((()=>[n("复制背面")])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1024)])),_:2},1024)))),256))])),bottomBar:r((()=>[c(y,{show:1==s(ie),custom:""},{default:r((()=>[c(d,{class:"rounded-20 bg-white border-box font pb-3",style:{width:"600rpx"}},{default:r((()=>[c(d,{class:"py-2 text-center"},{default:r((()=>[c(a,{class:"font-40 font-weight-bold"},{default:r((()=>[n("产品信息确认")])),_:1})])),_:1}),c(d,{class:"py-2 px-4 font-32"},{default:r((()=>[c(d,{class:"flex align-center py-1"},{default:r((()=>[c(d,{class:""},{default:r((()=>[c(a,{class:"text-color-999"},{default:r((()=>[n("产品：")])),_:1})])),_:1}),c(d,{class:"flex text-ellipsis"},{default:r((()=>[c(a,{class:"font-weight-bold"},{default:r((()=>{var e;return[n(g(null==(e=s(me))?void 0:e.order_commodity_name),1)]})),_:1})])),_:1})])),_:1}),c(d,{class:"flex align-center py-1"},{default:r((()=>[c(d,{class:""},{default:r((()=>[c(a,{class:"text-color-999"},{default:r((()=>[n("规格：")])),_:1})])),_:1}),c(d,{class:"flex text-ellipsis"},{default:r((()=>[c(a,{class:"font-weight-bold"},{default:r((()=>{var e;return[n(g(null==(e=s(me))?void 0:e.order_spec_name),1)]})),_:1})])),_:1})])),_:1}),c(d,{class:"flex align-center py-1"},{default:r((()=>[c(d,{class:""},{default:r((()=>[c(a,{class:"text-color-999"},{default:r((()=>[n("纸张：")])),_:1})])),_:1}),c(d,{class:"flex text-ellipsis"},{default:r((()=>[c(a,{class:"font-weight-bold"},{default:r((()=>{var e;return[n(g((null==(e=s(me))?void 0:e.order_material_name)||"系统提供纸张"),1)]})),_:1})])),_:1}),c(d,{onClick:t[1]||(t[1]=t=>(e.popupShowpage=1,ie.value=0)),class:"flex align-center justify-center linear-gradient rounded-circle ml-2",style:{height:"40rpx",padding:"10px 15px"}},{default:r((()=>[c(a,{style:{color:"#f2f2f2","font-weight":"bold"}},{default:r((()=>[n("修改纸张")])),_:1})])),_:1})])),_:1}),c(d,{class:"flex align-center py-1"},{default:r((()=>[c(d,{class:""},{default:r((()=>[c(a,{class:"text-color-999"},{default:r((()=>[n("纸张数量：")])),_:1})])),_:1}),c(d,{class:"flex text-ellipsis"},{default:r((()=>[c(a,{class:"font-weight-bold"},{default:r((()=>[n(g(s(D)||0)+"张",1)])),_:1})])),_:1})])),_:1}),c(d,{class:"flex align-center py-2"},{default:r((()=>[c(l,{style:{width:"24rpx",height:"24rpx"},src:P,mode:"widthFix"}),c(d,{class:"ml-1 flex-1"},{default:r((()=>[c(a,{class:"text-warning font-24"},{default:r((()=>[n("核对产品信息，如有问题点击取消返回，核对无误点击确认")])),_:1})])),_:1})])),_:1})])),_:1}),c(d,{class:"px-5 flex align-center justify-center px-2"},{default:r((()=>[c(d,{onClick:t[2]||(t[2]=e=>ie.value=0),class:"flex-1 flex align-center justify-center bg-info rounded-circle mr-2",style:{height:"80rpx"}},{default:r((()=>[c(a,{class:"text-white"},{default:r((()=>[n("取消")])),_:1})])),_:1}),c(d,{onClick:ce,class:"flex-1 flex align-center justify-center linear-gradient rounded-circle ml-2",style:{height:"80rpx"}},{default:r((()=>[c(a,{class:"text-white"},{default:r((()=>[n("确定")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["show"]),0==z.copyimage?(o(),i(d,{key:0,style:{display:"flex","justify-content":"space-between","align-items":"center",margin:"10px"}},{default:r((()=>[c(d,null,{default:r((()=>[c(a,{style:{color:"red"},onClick:t[3]||(t[3]=e=>z.showupimage=1)},{default:r((()=>[n("上传图片")])),_:1}),c(a,{style:{"font-weight":"bold",color:"red"}},{default:r((()=>[n("|")])),_:1}),c(a,{style:{color:"red"},onClick:xe},{default:r((()=>[n("选择背面")])),_:1})])),_:1}),c(d,{style:{display:"flex","justify-content":"space-around","align-items":"center"}},{default:r((()=>[c(a,null,{default:r((()=>[n("共"+g(s(D)||0)+"张",1)])),_:1}),s(se)?(o(),i(d,{key:0,onClick:t[4]||(t[4]=e=>ie.value=1),class:"flex-1 flex align-center justify-center linear-gradient",style:{padding:"5px","border-radius":"50rpx","margin-left":"10px"}},{default:r((()=>[c(a,{class:"text-white"},{default:r((()=>[n("完成，下一步")])),_:1})])),_:1})):(o(),i(d,{key:1,onClick:t[5]||(t[5]=e=>ie.value=1),class:"flex-1 flex align-center justify-center linear-gradient",style:{padding:"5px","border-radius":"50rpx","margin-left":"10px"}},{default:r((()=>[c(a,{class:"text-white"},{default:r((()=>[n("未达定制倍数")])),_:1})])),_:1}))])),_:1})])),_:1})):m("",!0),1==z.copyimage?(o(),i(d,{key:1},{default:r((()=>[c(d,{style:{display:"grid","grid-template-columns":"1fr 1fr",gap:"20px",margin:"10px"}},{default:r((()=>[c(a,{onClick:fe,style:{"text-align":"center",border:"1px solid blue","background-color":"#f2f2f2",color:"blue","font-weight":"bold","border-radius":"5px"}},{default:r((()=>[n("复制到所有空白背面")])),_:1}),c(a,{onClick:t[6]||(t[6]=e=>z.copyimage=0),style:{"text-align":"center",border:"1px solid blue","background-color":"blue",color:"#f2f2f2","font-weight":"bold","border-radius":"5px"}},{default:r((()=>[n("完成复制")])),_:1})])),_:1})])),_:1})):m("",!0),c(x,{height:900,show:1==z.showupimage},{default:r((()=>[c(d,{style:{display:"grid","grid-template-rows":"1fr 10fr",gap:"5px",padding:"10px"}},{default:r((()=>[c(d,{style:{display:"flex","justify-content":"space-between"}},{default:r((()=>[c(a,{style:{"font-weight":"bold"}},{default:r((()=>[n("上传照片")])),_:1}),c(a,{onClick:t[7]||(t[7]=e=>z.showupimage=0)},{default:r((()=>[n("X")])),_:1})])),_:1}),c(d,{style:{display:"grid","grid-template-rows":"2fr 2fr 2fr",gap:"20rpx"}},{default:r((()=>[c(d,{style:{"background-color":"#f2f2f2","border-radius":"15px",display:"flex","justify-content":"space-around",padding:"10px"}},{default:r((()=>[c(l,{src:T,style:{width:"100px",height:"100px"}}),c(d,{style:{display:"flex","flex-direction":"column","align-items":"flex-start"}},{default:r((()=>[c(a,{style:{"font-weight":"bold"}},{default:r((()=>[n("批量上传")])),_:1}),c(a,{style:{"font-size":"13px"}},{default:r((()=>[n("按上传顺序生成商品正反面")])),_:1})])),_:1}),c(d,{style:{display:"flex","align-items":"flex-end"}},{default:r((()=>[c(d,{style:{"background-color":"red","border-radius":"10px",padding:"10px","font-weight":"bold","font-size":"13px",color:"#ffffff"},onClick:t[8]||(t[8]=e=>ue(1))},{default:r((()=>[n("立即上传")])),_:1})])),_:1})])),_:1}),c(d,{style:{"background-color":"#f2f2f2","border-radius":"15px",display:"flex","justify-content":"space-around",padding:"10px"}},{default:r((()=>[c(l,{src:F,style:{width:"100px",height:"100px"}}),c(d,{style:{display:"flex","flex-direction":"column","align-items":"flex-start"}},{default:r((()=>[c(a,{style:{"font-weight":"bold"}},{default:r((()=>[n("批量上传正面")])),_:1}),c(a,{style:{"font-size":"13px"}},{default:r((()=>[n("按上传顺序生成商品正反面")])),_:1})])),_:1}),c(d,{style:{display:"flex","align-items":"flex-end"}},{default:r((()=>[c(d,{style:{"background-color":"red","border-radius":"10px",padding:"10px","font-weight":"bold","font-size":"13px",color:"#ffffff"},onClick:t[9]||(t[9]=e=>ue(2))},{default:r((()=>[n("立即上传")])),_:1})])),_:1})])),_:1}),c(d,{style:{"background-color":"#f2f2f2","border-radius":"15px",display:"flex","justify-content":"space-around",padding:"10px"}},{default:r((()=>[c(l,{src:Q,style:{width:"100px",height:"100px"}}),c(d,{style:{display:"flex","flex-direction":"column","align-items":"flex-start"}},{default:r((()=>[c(a,{style:{"font-weight":"bold"}},{default:r((()=>[n("批量上传反面")])),_:1}),c(a,{style:{"font-size":"13px"}},{default:r((()=>[n("按上传顺序生成商品正反面")])),_:1})])),_:1}),c(d,{style:{display:"flex","align-items":"flex-end"}},{default:r((()=>[c(d,{style:{"background-color":"red","border-radius":"10px",padding:"10px","font-weight":"bold","font-size":"13px",color:"#ffffff"},onClick:t[10]||(t[10]=e=>ue(3))},{default:r((()=>[n("立即上传")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["show"]),c(y,{show:1==e.popupShowpage,custom:"",width:"80%","background-color":"#fff"},{default:r((()=>[c(d,{class:"py-3 px-3 flex align-center justify-between"},{default:r((()=>[c(a,{class:"font-32"},{default:r((()=>[n("选择纸张")])),_:1}),c(l,{onClick:t[11]||(t[11]=t=>e.popupShow=0),style:{width:"40rpx",height:"40rpx"},src:J,mode:""})])),_:1}),c(d,{class:"px-2 bg-white flex align-center",style:{height:"80rpx"}},{default:r((()=>[c(d,{class:"rounded-circle flex align-center px-2 flex-1",style:{"background-color":"#f5f5f5",height:"64rpx"}},{default:r((()=>[c(C,{modelValue:s(V).material_name,"onUpdate:modelValue":t[12]||(t[12]=e=>s(V).material_name=e),class:"font-26 flex-1",type:"text",placeholder:"输入纸张名称搜索","placeholder-style":"color: #ccc"},null,8,["modelValue"]),c(l,{onClick:e.searchMaterial,style:{width:"40rpx",height:"40rpx"},src:L,mode:""},null,8,["onClick"])])),_:1})])),_:1}),c(q,{"scroll-y":"true",style:{height:"500rpx"}},{default:r((()=>[c(d,null,{default:r((()=>[(o(!0),_(u,null,f(s(A),((e,t)=>(o(),i(d,{onClick:t=>(e=>{z.activeMaterial={material_cover:e.material_cover,material_id:e.material_id,material_name:e.material_name}})(e),key:t,class:"m-2"},{default:r((()=>[c(d,{class:"text-ellipsis text-center mt-1",style:{"text-align":"center",display:"flex","justify-self":"center","align-items":"center",width:"100%"}},{default:r((()=>[c(a,{class:"font-32",style:{width:"100%",border:"2px solid #18d0f7","border-radius":"10px",margin:"10px 15px 10px 10px",padding:"10px"}},{default:r((()=>[n(g(e.material_name),1)])),_:2},1024),c(a,{onClick:t=>{return a=e.material_cover,z.showImage=1,void(z.imageurl=a);var a},style:{"background-color":"#18d0f7",padding:"5px","border-radius":"10px","font-size":"12px"}},{default:r((()=>[n("示例")])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1}),c(y,{show:1==e.showImage,custom:""},{default:r((()=>[c(d,{class:"tui-modal-custom",style:{"background-color":"#fff","border-radius":"15px"}},{default:r((()=>[c(d,{class:"py-3 px-3 flex align-center justify-between"},{default:r((()=>[c(a,{class:"font-32"},{default:r((()=>[n("查看图片")])),_:1}),c(l,{onClick:e.handleClick,style:{width:"40rpx",height:"40rpx"},src:J,mode:""},null,8,["onClick"])])),_:1}),c(l,{src:s(p).showImageUrl(s(X)),class:"tui-tips-img"},null,8,["src"])])),_:1})])),_:1},8,["show"])])),_:1}),c(d,{class:"pt-2 pb-4 flex align-center justify-center px-2"},{default:r((()=>[c(d,{onClick:de,class:"flex-1 flex align-center justify-center linear-gradient rounded-circle",style:{height:"100rpx"}},{default:r((()=>[c(a,{class:"text-white"},{default:r((()=>[n("确认，下一步")])),_:1})])),_:1})])),_:1})])),_:1},8,["show"])])),_:1},8,["triggered"])}}},[["__scopeId","data-v-1baff49a"]]);export{z as default};
