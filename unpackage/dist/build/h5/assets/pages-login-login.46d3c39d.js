import{r as e,t,o as s,c as a,w as o,a as l,u as r,b as n,d as u,e as c,s as d,f,i,g as m,I as p,h as _,_ as g,j as h}from"./index-855f89f9.js";import{r as x}from"./uni-app.es.8f4863ce.js";import{f as y}from"./tui-validation.c5aa0c0a.js";import{_ as b}from"./_plugin-vue_export-helper.1b428a4d.js";const w=""+new URL("title-bae728af.png",import.meta.url).href,j=b({__name:"login",setup(b){const j=e({form:{custom_number:"13618215584",custom_password:"123456"},rules:[{name:"custom_number",rule:["required"],msg:["请输入账号"]},{name:"custom_password",rule:["required"],msg:["请输入密码"]}]}),{form:V}=t(j),k=()=>{const e=y.validation(j.form,j.rules);e?u.showToast(e):c.login(j.form).then((e=>{d.commit("SET_VALUE",{key:"userInfo",value:e.data.userInfo}),f("token","Bearer "+e.data.token),f("userInfo",JSON.stringify(e.data.userInfo)),u.reToPage("home")}))};return(e,t)=>{const c=i,d=m,f=p,y=_,b=x(h("page"),g);return s(),a(b,{bgColor:"#fff",refresherEnabled:!1,topFixed:""},{content:o((()=>[l(d,{class:"p-6 login-bg",style:{"min-height":"100%"}},{default:o((()=>[l(d,{class:"pt-6"},{default:o((()=>[l(c,{style:{width:"384rpx",height:"150rpx"},src:w,mode:""})])),_:1}),l(d,{class:"pt-6"},{default:o((()=>[l(d,{class:"py-3 border-bottom flex align-center",style:{height:"100rpx"}},{default:o((()=>[l(f,{class:"font-36 flex-1",type:"text",modelValue:r(V).custom_number,"onUpdate:modelValue":t[0]||(t[0]=e=>r(V).custom_number=e),placeholder:"请输入账号","placeholder-style":"color: #ccc"},null,8,["modelValue"])])),_:1}),l(d,{class:"py-3 border-bottom flex align-center justify-center"},{default:o((()=>[l(f,{class:"font-36 flex-1",type:"password",modelValue:r(V).custom_password,"onUpdate:modelValue":t[1]||(t[1]=e=>r(V).custom_password=e),placeholder:"请输入密码","placeholder-style":"color: #ccc"},null,8,["modelValue"])])),_:1})])),_:1}),l(d,{class:"pt-6 px-2"},{default:o((()=>[l(d,{onClick:k,class:"rounded-circle flex align-center justify-center linear-gradient",style:{height:"100rpx"}},{default:o((()=>[l(y,{class:"text-white font-32"},{default:o((()=>[n("立即登录")])),_:1})])),_:1})])),_:1}),l(d,{class:"p-6 flex align-center justify-center font-26"},{default:o((()=>[l(y,{class:"mr-3 text-color-666",onClick:t[2]||(t[2]=e=>r(u).goToPage("register"))},{default:o((()=>[n("立即注册")])),_:1}),l(y,{class:"text-warning ml-3",onClick:t[3]||(t[3]=e=>r(u).goToPage("reset"))},{default:o((()=>[n("忘记密码?")])),_:1})])),_:1})])),_:1})])),_:1})}}},[["__scopeId","data-v-1005b765"]]);export{j as default};
