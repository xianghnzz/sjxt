import{r as e,t,aa as a,o as s,c as r,w as l,u as o,d as n,e as i,a as c,b as p,l as g,m as d,F as f,p as u,s as _,h,i as m,g as x,I as y,j as w,_ as I,v as j}from"./index-855f89f9.js";import{_ as k}from"./no-data.bcb4c8a9.js";import{a as b,o as q,r as v}from"./uni-app.es.8f4863ce.js";import{_ as C}from"./back_bai.3f7a0c49.js";import{_ as F}from"./ss.f111cf75.js";import{_ as N}from"./_plugin-vue_export-helper.1b428a4d.js";const B=N({__name:"paper-introduction",setup(N){const B=e({triggered:!1,queryInfo:{configs_name:"",pageNum:1,pageSize:10},list:[],current_page:1,last_page:1}),{triggered:E,queryInfo:V,list:P}=t(B);a((()=>_.state.userInfo));const T=()=>{B.list=[],B.current_page=1,B.last_page=1,B.queryInfo.pageNum=1,A()},U=()=>{B.triggered=!0,B.list=[],B.current_page=1,B.last_page=1,B.queryInfo.pageNum=1,A()},z=()=>{if(B.current_page>=B.last_page)return n.showToast("没有更多数据了"),!1;A()},A=()=>{i.getPaperList(B.queryInfo).then((e=>{console.log("res",e),B.queryInfo.pageNum=B.queryInfo.pageNum+1,B.list=[...B.list,...e.data.data],B.current_page=e.data.current_page,B.last_page=e.data.last_page,B.triggered=!1}),(()=>{B.triggered=!1}))};return b((()=>{})),q((()=>{A()})),(e,t)=>{const a=h,i=m,_=x,b=y,q=v(w("no-data"),k),N=v(w("page"),I);return s(),r(N,{bgColor:"#fff",topColor:"#00AEEF",topHeight:88,refresherEnabled:!0,triggered:o(E),refresherrefresh:U,scrolltolower:z},{navBar:l((()=>[c(_,{class:"text-center flex align-center justify-center",style:{height:"88rpx"}},{default:l((()=>[c(a,{class:"font-36 text-white"},{default:l((()=>[p("纸张介绍")])),_:1}),c(_,{onClick:t[0]||(t[0]=e=>o(n).goBack()),class:"position-absolute rounded-circle flex align-center justify-center",style:{width:"40rpx",height:"32rpx",left:"32rpx"}},{default:l((()=>[c(i,{style:{width:"40rpx",height:"32rpx"},src:C,mode:""})])),_:1})])),_:1})])),content:l((()=>[c(_,{class:"p-2"},{default:l((()=>[c(_,{class:"rounded-circle flex align-center px-2",style:{"background-color":"#F5F5F5",height:"64rpx"}},{default:l((()=>[c(b,{modelValue:o(V).configs_name,"onUpdate:modelValue":t[1]||(t[1]=e=>o(V).configs_name=e),class:"font-26 flex-1",type:"text",placeholder:"输入纸张名称搜索","placeholder-style":"color: #ccc"},null,8,["modelValue"]),c(i,{onClick:T,style:{width:"40rpx",height:"40rpx"},src:F,mode:""})])),_:1}),c(_,{class:"py-2 flex flex-wrap"},{default:l((()=>[(s(!0),g(f,null,d(o(P),((e,t)=>(s(),r(_,{onClick:t=>(e=>{n.goToPage("paper-info",`configs_id=${e.configs_id}`)})(e),key:t,class:"m-2"},{default:l((()=>[c(_,{class:"flex align-center justify-center overflow-hidden rounded-20",style:{width:"304rpx",height:"304rpx"}},{default:l((()=>[c(i,{style:{width:"304rpx"},src:o(n).showImageUrl(e.configs_value),mode:"widthFix"},null,8,["src"])])),_:2},1024),c(_,{class:"text-ellipsis text-center mt-2",style:{width:"304rpx"}},{default:l((()=>[c(a,{class:"font-32 font-weight-bold"},{default:l((()=>[p(j(e.configs_name),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1}),0==o(P).length?(s(),r(q,{key:0})):u("",!0)])),_:1},8,["triggered"])}}},[["__scopeId","data-v-e71ea75f"]]);export{B as default};
