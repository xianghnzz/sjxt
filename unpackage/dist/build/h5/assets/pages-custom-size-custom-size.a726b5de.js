import{r as e,t,aa as s,o as l,c as a,w as o,u as r,e as i,a as c,b as d,d as n,s as p,h as f,i as _,g as h,I as g,j as u,_ as m}from"./index-855f89f9.js";import{_ as x}from"./mp-html.78651eca.js";import{a as w,o as y,r as b}from"./uni-app.es.8f4863ce.js";import{_ as j}from"./back_bai.3f7a0c49.js";import{_ as M}from"./_plugin-vue_export-helper.1b428a4d.js";const v=M({__name:"custom-size",setup(M){const v=e({triggered:!1,configsInfo:{},form:{width:"",height:""},widthMin:30,heightMin:30,widthMax:440,heightMax:310}),{triggered:I,configsInfo:k,form:C}=t(v);s((()=>p.state.userInfo));const V=()=>{if(v.form.width>v.widthMax||v.form.width<v.widthMin)return void n.showToast("宽度超出可用范围，请重新输入");if(v.form.height>v.heightMax||v.form.height<v.heightMin)return void n.showToast("高度超出可用范围，请重新输入");const e={spec_id:"zdy",spec_name:"自定义尺寸商品",spec_dpi:300,spec_bleed:5,spec_multiple:0,spec_number:0,spec_cover:"",spec_width:v.form.width,spec_height:v.form.height,spec_select_material:"",spec_select_template:"0",spec_select_face:"0",spec_decoration_ids:"",spec_text_ids:"",spec_bg_ids:"",spec_template_ids:"",spec_opposite_ids:"",spec_page_prefix:"",spec_page_suffix:"",spec_prompt:"自定义尺寸商品",spec_edit:1,spec_template_edit_mode:2,spec_opposite_edit_mode:2},t={...{order_spec_id:0,order_spec_name:"自定义尺寸商品",order_spec_info:JSON.stringify(e),order_spec_info_obj:e}};p.commit("SET_ORDER_FORM",t),n.goToPage("custom-template-selection")},E=()=>{v.triggered=!0,B()},T=()=>{},B=()=>{i.getConfigsById({configs_id:105}).then((e=>{console.log("res",e),v.configsInfo=e.data,v.triggered=!1}),(()=>{v.triggered=!1}))};return w((()=>{})),y((()=>{B()})),(e,t)=>{const s=f,i=_,p=h,w=g,y=b(u("mp-html"),x),M=b(u("page"),m);return l(),a(M,{bgColor:"#fff",topColor:"#00AEEF",topHeight:88,refresherEnabled:!0,triggered:r(I),refresherrefresh:E,scrolltolower:T},{navBar:o((()=>[c(p,{class:"text-center flex align-center justify-center",style:{height:"88rpx"}},{default:o((()=>[c(s,{class:"font-36 text-white"},{default:o((()=>[d("自定义尺寸")])),_:1}),c(p,{onClick:t[0]||(t[0]=e=>r(n).goBack()),class:"position-absolute rounded-circle flex align-center justify-center",style:{width:"40rpx",height:"32rpx",left:"32rpx"}},{default:o((()=>[c(i,{style:{width:"40rpx",height:"32rpx"},src:j,mode:""})])),_:1})])),_:1})])),content:o((()=>[c(p,{class:"flex flex-column align-center py-2",style:{width:"750rpx"}},{default:o((()=>[c(p,{class:"content-bg pt-12 px-5"},{default:o((()=>[c(p,{class:"flex align-center px-5"},{default:o((()=>[c(p,{class:""},{default:o((()=>[c(s,null,{default:o((()=>[d("宽：")])),_:1})])),_:1}),c(w,{class:"flex-1 rounded-6 px-2",style:{height:"44px","background-color":"#f3f7ff"},type:"number",modelValue:r(C).width,"onUpdate:modelValue":t[1]||(t[1]=e=>r(C).width=e),placeholder:"可输入30-440mm"},null,8,["modelValue"])])),_:1}),c(p,{class:"flex align-center mt-4 px-5"},{default:o((()=>[c(p,{class:""},{default:o((()=>[c(s,null,{default:o((()=>[d("高：")])),_:1})])),_:1}),c(w,{class:"flex-1 rounded-6 px-2",style:{height:"44px","background-color":"#f3f7ff"},type:"number",modelValue:r(C).height,"onUpdate:modelValue":t[2]||(t[2]=e=>r(C).height=e),placeholder:"可输入30-310mm"},null,8,["modelValue"])])),_:1}),c(p,{class:"pt-4 pb-2 px-5 flex align-center justify-center"},{default:o((()=>[c(p,{onClick:V,class:"flex-1 flex align-center justify-center linear-gradient rounded-circle",style:{height:"50px"}},{default:o((()=>[c(s,{class:"text-white"},{default:o((()=>[d("开始定制")])),_:1})])),_:1})])),_:1})])),_:1}),c(p,{class:"border rounded-6 overflow-hidden p-1",style:{width:"325px"}},{default:o((()=>[c(y,{content:r(k).configs_illustrate},null,8,["content"])])),_:1})])),_:1})])),_:1},8,["triggered"])}}},[["__scopeId","data-v-e0e0a91c"]]);export{v as default};
